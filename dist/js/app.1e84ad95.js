(function(e){function t(t){for(var r,s,i=t[0],o=t[1],u=t[2],d=0,b=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&b.push(c[s][0]),c[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);l&&l(t);while(b.length)b.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var o=n[i];0!==c[o]&&(r=!1)}r&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},c={app:0},a=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/test-lean-it/dist/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=o;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"11de":function(e,t,n){"use strict";n("c480")},3538:function(e,t,n){"use strict";n("e3d9")},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"getUsers",(function(){return b}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("f2bf"),a=n("5502"),s=n("1da1"),i=(n("96cf"),n("5530")),o=n("bc3a"),u=n.n(o),l="https://random-data-api.com/api",d=function(e){var t=e.url,n=e.method,r=void 0===n?"get":n,c=e.data,a=void 0===c?{}:c,s=e.withBaseUrl,o=void 0===s||s,d=e.headers,b=void 0===d?{}:d;return u()({url:t,method:r,data:a,baseURL:o?l:"",headers:Object(i["a"])({},b)})},b=function(){return d({url:"/users/random_user?size=100"})},f={namespaced:!0,state:{data:[]},mutations:{SET_USERS:function(e,t){e.data=t}},actions:{fetchUsers:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,r.getUsers();case 4:c=t.sent,a=c.data,n("SET_USERS",a),t.next=13;break;case 9:throw t.prev=9,t.t0=t["catch"](1),console.log(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()}}},p=Object(a["a"])({modules:{users:f}}),O=Object(c["d"])("div",null,[Object(c["d"])("h1",null,"Тестовое задание для LEAN-IT")],-1),j={class:"search"},h={id:"search"},m=Object(c["e"])(" Поиск по таблице ");function g(e,t,n,r,a,s){var i=Object(c["n"])("myTableBig");return Object(c["i"])(),Object(c["c"])(c["a"],null,[O,Object(c["d"])("div",j,[Object(c["d"])("form",h,[m,Object(c["r"])(Object(c["d"])("input",{name:"query","onUpdate:modelValue":t[0]||(t[0]=function(e){return a.searchQuery=e})},null,512),[[c["p"],a.searchQuery]])])]),Object(c["f"])(i,{columns:a.gridColumns,"filter-key":a.searchQuery},null,8,["columns","filter-key"])],64)}var v=function(e){return Object(c["k"])("data-v-09e637dc"),e=e(),Object(c["j"])(),e},y={class:"c-table"},_={class:"generate"},k={key:0,class:"preloader"},P={key:1,class:"c-table__wrap"},w=["onClick"],C={class:"paginate"},x=["disabled"],U=["onClick"],S=["disabled"],N={class:"elemsPerPage"},T=v((function(){return Object(c["d"])("div",null,"Элементов на странице",-1)}));function z(e,t,n,r,a,s){return Object(c["i"])(),Object(c["c"])("div",y,[Object(c["d"])("div",_,[Object(c["d"])("button",{onClick:t[0]||(t[0]=function(){return e.fetchUsers&&e.fetchUsers.apply(e,arguments)}),class:"generate__btn"},"Перегенерация данных")]),a.loading?(Object(c["i"])(),Object(c["c"])("div",k," Loading... ")):(Object(c["i"])(),Object(c["c"])("div",P,[Object(c["d"])("table",null,[Object(c["d"])("thead",null,[Object(c["d"])("tr",null,[(Object(c["i"])(!0),Object(c["c"])(c["a"],null,Object(c["m"])(n.columns,(function(e){return Object(c["i"])(),Object(c["c"])("th",{onClick:function(t){return s.sortBy(e)},class:Object(c["h"])({active:a.sortKey==e}),key:e.id},[Object(c["e"])(Object(c["o"])(s.capitalize(e))+" ",1),Object(c["d"])("span",{class:Object(c["h"])(["arrow",a.sortOrders[e]>0?"asc":"dsc"])},null,2)],10,w)})),128))])]),Object(c["d"])("tbody",null,[(Object(c["i"])(!0),Object(c["c"])(c["a"],null,Object(c["m"])(s.paginatedData,(function(e){var t=e.id,n=e.first_name,r=e.last_name,a=e.social_insurance_number;return Object(c["i"])(),Object(c["c"])("tr",{key:t},[Object(c["d"])("td",null,Object(c["o"])(t),1),Object(c["d"])("td",null,Object(c["o"])(n),1),Object(c["d"])("td",null,Object(c["o"])(r),1),Object(c["d"])("td",null,Object(c["o"])(a),1)])})),128))])]),Object(c["d"])("div",C,[Object(c["d"])("button",{onClick:t[1]||(t[1]=function(){return s.prevPage&&s.prevPage.apply(s,arguments)}),disabled:1==a.pageNumber,class:"paginate__btn"}," Предыдущая ",8,x),(Object(c["i"])(!0),Object(c["c"])(c["a"],null,Object(c["m"])(s.pageCount,(function(e){return Object(c["i"])(),Object(c["c"])("button",{key:e,onClick:function(t){return a.pageNumber=e},class:"paginate__btn"},Object(c["o"])(e),9,U)})),128)),Object(c["d"])("button",{onClick:t[2]||(t[2]=function(){return s.nextPage&&s.nextPage.apply(s,arguments)}),disabled:a.pageNumber>=s.pageCount,class:"paginate__btn"}," Следующая ",8,S)]),Object(c["d"])("div",N,[T,Object(c["d"])("button",{onClick:t[3]||(t[3]=function(e){return s.elemsPerPage(10)}),class:"elemsPerPage__btn"},"10"),Object(c["d"])("button",{onClick:t[4]||(t[4]=function(e){return s.elemsPerPage(20)}),class:"elemsPerPage__btn"},"20"),Object(c["d"])("button",{onClick:t[5]||(t[5]=function(e){return s.elemsPerPage(50)}),class:"elemsPerPage__btn"},"50")])]))])}n("d3b7"),n("159b"),n("4de4"),n("b64b"),n("4e82"),n("fb6a");var E={name:"MyTable",props:{columns:Array,filterKey:String},data:function(){var e={};return this.columns.forEach((function(t){e[t]=1})),{loading:!1,pageNumber:1,size:10,sortKey:"",sortOrders:e}},computed:Object(i["a"])(Object(i["a"])({},Object(a["c"])({users:function(e){return e.users.data}})),{},{filteredHeroes:function(){var e=this.sortKey,t=this.filterKey&&this.filterKey.toLowerCase(),n=this.sortOrders[e]||1,r=this.users;return t&&(r=r.filter((function(e){return Object.keys(e).some((function(n){return String(e[n]).toLowerCase().indexOf(t)>-1}))}))),e&&(r=r.slice().sort((function(t,r){return t=t[e],r=r[e],(t===r?0:t>r?1:-1)*n}))),r},sortOrders2:function(){var e={};return this.columns.forEach((function(t){e[t]=1})),e},pageCount:function(){var e=this.filteredHeroes.length;return Math.ceil(e/this.size)},paginatedData:function(){var e=(this.pageNumber-1)*this.size,t=e+this.size;return this.filteredHeroes.slice(e,t)}}),methods:Object(i["a"])(Object(i["a"])({},Object(a["b"])({fetchUsers:"users/fetchUsers"})),{},{capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},sortBy:function(e){this.sortKey=e,this.sortOrders[e]=-1*this.sortOrders[e]},nextPage:function(){this.pageNumber++},prevPage:function(){this.pageNumber--},elemsPerPage:function(e){this.size=e}}),created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.fetchUsers();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message;case 9:return t.prev=9,e.loading=!1,t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})))()}},K=(n("3538"),n("6b0d")),M=n.n(K);const R=M()(E,[["render",z],["__scopeId","data-v-09e637dc"]]);var B=R,L={name:"App",components:{myTableBig:B},data:function(){return{searchQuery:"",gridColumns:["id","first_name","last_name","social_insurance_number"],gridData:[{name:"Chuck",power:1/0,age:50,city:"NY"},{name:"Bruce",power:9e3,age:40,city:"Moscow"},{name:"Jackie",power:7e3,age:55,city:"LA"},{name:"Jet",power:8e3,age:35,city:"Tokio"}]}}};n("11de");const A=M()(L,[["render",g]]);var J=A,Q=Object(c["b"])(J);Q.use(p),Q.mount("#app")},c480:function(e,t,n){},e3d9:function(e,t,n){}});
//# sourceMappingURL=app.1e84ad95.js.map